# 2024-NC2-M16-Game-Center
![á„€á…¦á„‹á…µá†·á„‰á…¦á†«á„á…¥](https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M16-GameCenter/assets/69234788/71c9566b-02d0-411b-913b-35783ac5ec6e)
</br>

## ï£¿ Authors 
|[ê°•í¬ì£¼(Rad)](https://github.com/heejukang)|[ê¹€ìœ ë¹ˆ(Nini)](https://github.com/ubeeni)|
|:---:|:---:|
|ğŸ¨ **ë””ìì¸** ğŸ¨| ğŸ **í…Œí¬** ğŸ|
|![ë˜ë“œ](https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M16-GameCenter/assets/69234788/dae1a14a-3e95-40f4-bd9f-e88ac52b9aab)|![ë‹ˆë‹ˆ](https://github.com/DeveloperAcademy-POSTECH/2024-MC2-M10-Sandwich/assets/69234788/5c9f8054-dd60-4a9d-a2fa-af6649023428)|
</br>

## ğŸ¥ Youtube Link

</br>

## ğŸ’¡ About Game Center
![Game Center á„‰á…©á„€á…¢](https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M16-GameCenter/assets/69234788/297d7f39-882a-4297-8fc1-69108af643f1)

</br>

## ğŸ¯ What we focus on?
#### ë©€í‹° í”Œë ˆì´ì–´(ì¹œêµ¬), ìˆœìœ„í‘œ(ë¦¬ë”ë³´ë“œ), ëª©í‘œ ë‹¬ì„±(ì—…ì )
![Focus on](https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M16-GameCenter/assets/69234788/a24583cd-e4f8-493f-8cd4-e455dc321b03)

</br>

## ğŸ’¼ Use Case
#### ë§›ì§‘ íƒë°©ì´ë¼ëŠ” ì£¼ì œë¥¼ ê²Œì´ë¯¸í”¼ì¼€ì´ì…˜ì„ ì ìš©í•œ ë¹™ê³ ë¥¼ í†µí•´ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ë©°, ê²Œì„ì„¼í„°ì˜ ê¸°ëŠ¥ì„ í†µí•´ ì„œë²„ë¥¼ ëŒ€ì‹ í•˜ì—¬ ì‚¬ìš©ìê°„ì˜ ê²½ìŸê³¼ ì¬ì°¸ì—¬ë¥¼ ìœ ë„í•œë‹¤.
![Use Case](https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M16-GameCenter/assets/69234788/683683dc-f45d-4d6c-8e47-ad9afd83a0dc)
![Use Case2](https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M16-GameCenter/assets/69234788/d2879046-491a-44a3-9173-89dd17a68a71)

</br>

## ğŸ–¼ï¸ Prototype
</div>
<div style="display: flex; flex-direction: column;" align="center" >
  <a href="https://apps.apple.com/kr/app/%EB%B9%99%EA%B3%A0%EB%A7%81%EA%B3%A0/id6504380885">
    <img src="https://user-images.githubusercontent.com/81340603/204947353-18c33fe9-c49b-443a-b1e2-7cf9a85bb91b.png" width=180px />
  </a>
  <p3>&nbsp;&nbsp;&nbsp;</p3>
</div>
<img width="2169" alt="á„‘á…³á„…á…©á„á…©á„á…¡á„‹á…µá†¸_á„†á…¦á„‹á…µá†«" src="https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M16-GameCenter/assets/69234788/1b088c77-d24e-4d3e-9266-cc064e6298fe">
<img width="2169" alt="á„‘á…³á„…á…©á„á…©á„á…¡á„‹á…µá†¸_á„‡á…µá†¼á„€á…©" src="https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M16-GameCenter/assets/69234788/bb8400ae-8107-49a2-ba2f-ac4ee4c5a268">
<img width="2169" alt="á„‘á…³á„…á…©á„á…©á„á…¡á„‹á…µá†¸_á„€á…¦á„‹á…µá†·á„‰á…¦á†«á„á…¥" src="https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M16-GameCenter/assets/69234788/585aa602-3daa-45db-a546-33ba756d7df8">

</br>

## ğŸ•¹ï¸ Demo Video
https://github.com/DeveloperAcademy-POSTECH/2024-NC2-M16-GameCenter/assets/69234788/112ef59a-924f-41be-9d6f-18b7b3188c5e

</br>

## ğŸ› ï¸ About Code
#### 1ï¸âƒ£ `GameKit`ì„ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ë””ë°”ì´ìŠ¤ì˜ ê²Œì„ ì„¼í„° í”Œë ˆì´ì–´ ì¸ì¦ 
-> ì¸ì¦ë˜ì§€ ì•Šì€ ê²½ìš°, ê²Œì„ ì„¼í„° ë¡œê·¸ì¸ í™”ë©´ì„ í‘œì‹œí•˜ì—¬ í”Œë ˆì´ì–´ê°€ ë¡œê·¸ì¸í•  ìˆ˜ ìˆë„ë¡ í•´ì¤Œ

```swift
import GameKit
```

```swift
// ë¡œì»¬ í”Œë ˆì´ì–´ ì¸ì¦ ë©”ì„œë“œ
    func authenticateLocalPlayer() {
        // ì´ë¯¸ ì¸ì¦ ì¤‘ì´ë©´ ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€
        guard !authenticating else { return }
        authenticating = true

        // ì¸ì¦ í•¸ë“¤ëŸ¬ ì„¤ì •
        GKLocalPlayer.local.authenticateHandler = { [weak self] viewController, error in
            guard let self = self else { return }
            self.authenticating = false
            if let error = error {
                print("Authentication failed: \\(error.localizedDescription)")
                self.isAuthenticated = false
            } else if let viewController = viewController {
                // ë¡œê·¸ì¸ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ê°€ í•„ìš”í•œ ê²½ìš° í‘œì‹œ
                print("Game Center login required")
                if let windowScene = UIApplication.shared.connectedScenes.first as? UIWindowScene,
                   let window = windowScene.windows.first {
                    window.rootViewController?.present(viewController, animated: true, completion: nil)
                }
            } else if GKLocalPlayer.local.isAuthenticated {
                // ì¸ì¦ ì„±ê³µ
                self.isAuthenticated = true
                print("Player authenticated")
            } else {
                // ì¸ì¦ ì‹¤íŒ¨
                self.isAuthenticated = false
                print("Player not authenticated")
            }
        }
    }
```

#### 2ï¸âƒ£ Game Center ìˆœìœ„í‘œ(ë¦¬ë”ë³´ë“œ)ì— ì‚¬ìš©ìì˜ ì ìˆ˜ ë³´ë‚´ê¸°

```swift
// (ìˆœìœ„í‘œë¥¼ ìœ„í•œ) ê²Œì„ì„¼í„° ì ìˆ˜ ì €ì¥ ë©”ì„œë“œ
    func reportBingoCount(_ count: Int) {
        // ì¸ì¦ ì—¬ë¶€ í™•ì¸
        guard isAuthenticated else {
            print("Player is not authenticated")
            return
        }

        let score = GKLeaderboardScore()
        score.leaderboardID = "ìˆœìœ„í‘œ ID"
        // ìˆœìœ„í‘œì— ë¶€ì—¬í•´ì•¼ í•˜ëŠ” ì˜ìˆ«ì ì‹ë³„ì - ì´ IDëŠ” 100ìë¡œ ì œí•œ, ì˜êµ¬ì ìœ¼ë¡œ ì„¤ì •ë˜ë©° ë‚˜ì¤‘ì— ë³€ê²½í•  ìˆ˜ ì—†ìŒ
        score.value = Int(count)

        // ì ìˆ˜ ì €ì¥
        GKLeaderboard.submitScore(score.value, context: 0, player: GKLocalPlayer.local, leaderboardIDs: [score.leaderboardID]) { error in
            if let error = error {
                print("Failed to report score: \\(error.localizedDescription)")
            } else {
                print("Score reported successfully")
            }
        }
    }
```

#### 3ï¸âƒ£ ëª©í‘œ ë‹¬ì„±ì„ í™•ì¸í•˜ê¸° ìœ„í•œ ë°ì´í„° ì „ë‹¬
```swift
// ëª©í‘œ(ì—…ì ) ë‹¬ì„± ë©”ì„œë“œ
    func reportAchievement(identifier: String, percentComplete: Double) {
        // ì¸ì¦ ì—¬ë¶€ í™•ì¸
        guard isAuthenticated else {
            print("Player is not authenticated")
            return
        }

        // ëª©í‘œ ê°ì²´ ìƒì„± ë° ì„¤ì •
        let achievement = GKAchievement(identifier: identifier)
        achievement.percentComplete = percentComplete
        achievement.showsCompletionBanner = true

        // ëª©í‘œ ë‹¬ì„± ë³´ê³ 
        GKAchievement.report([achievement]) { error in
            if let error = error {
                print("Failed to report achievement: \\(error.localizedDescription)")
            } else {
                print("Achievement reported successfully")
            }
        }
    }
```

#### 4ï¸âƒ£ Game Center ìˆœìœ„í‘œ ë³´ê¸°
```swift
// ìˆœìœ„í‘œ ë³´ê¸° ë©”ì„œë“œ
    func showLeaderboard() {
        let leaderboardID = "ìˆœìœ„í‘œ ID"
        let viewController = GKGameCenterViewController(leaderboardID: leaderboardID, playerScope: .friendsOnly, timeScope: .allTime)
        viewController.gameCenterDelegate = self

        if let windowScene = UIApplication.shared.connectedScenes.first as? UIWindowScene {
            if let window = windowScene.windows.first {
                window.rootViewController?.present(viewController, animated: true, completion: nil)
            }
        }
    }
```
